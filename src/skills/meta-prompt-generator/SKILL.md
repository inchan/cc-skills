---
name: meta-prompt-generator
description: 슬래시 커맨드용 프롬프트 생성. 프롬프트/커맨드 생성 요청 시 사용.
---

## 목적

사용자 요청을 분석하여 `.claude/commands/`에 저장할 슬래시 커맨드 프롬프트를 생성합니다.

## 워크플로우

### 1. 요구사항 파악

**최대 2회 질문**으로 필수 정보만 수집:
- 무엇을 만들고 싶은지
- 기술 스택 (자동 감지 우선, 불명확 시 질문)

"모르겠다" 응답 시 프로젝트 파일에서 자동 감지하거나 합리적 기본값 사용.

### 2. 복잡도 판단

| 모드 | 기준 | 특징 |
|------|------|------|
| MINIMAL | 단순 작업, 3단계 이하 | 최소 구조 |
| STANDARD | 일반 기능, 4-6단계 | 표준 구조 |
| COMPREHENSIVE | 대규모, 7단계 이상 | 전체 구조 |

### 3. 프롬프트 생성

복잡도에 맞는 템플릿을 사용하여 프롬프트 생성.

### 4. 저장

`.claude/commands/[kebab-case-이름].md`에 저장.

---

## 템플릿

### MINIMAL

```yaml
---
allowed-tools: Task, Read, Write, Edit, Bash
description: [한 줄 설명]
---

# [프롬프트 이름]

## 목표
[단일 명확한 목표]

## 단계
1. [핵심 작업]
2. [검증]

## 성공 기준
[검증 조건]
```

### STANDARD

```yaml
---
allowed-tools: Task, Read, Write, Edit, Bash, Glob, Grep
description: [설명]
model: sonnet
---

# [프롬프트 이름]

## 변수
- $PROJECT_ROOT: 프로젝트 경로

## 지침
- [핵심 제약사항]
- [품질 기준]

## 워크플로우

### 단계 1: [이름]
**종속성**: 없음

[작업 내용]

**성공 기준**: [기준]

---

### 단계 2: [이름]
**종속성**: 단계 1

[작업 내용]

**성공 기준**: [기준]

---

### 단계 3: 검증
**종속성**: 단계 2

```bash
[검증 명령어]
```

**성공 기준**: 모든 검증 통과

## 결과물
- [산출물 목록]
```

### COMPREHENSIVE

```yaml
---
allowed-tools: Task, Read, Write, Edit, Bash, Glob, Grep, WebFetch
description: [상세 설명]
argument-hint: [project-path]
model: sonnet
---

# [프롬프트 이름]

## 변수
- $1: 프로젝트 경로 (기본값: 현재 디렉토리)
- $PROJECT_TYPE: [타입]

## 전제조건
- [필수 환경/도구]

## 지침
- [상세 규칙]
- [보안 요구사항]
- [품질 기준]

## 워크플로우

### 단계 1: 사전 분석
**종속성**: 없음
**실행 모드**: 병렬

1. 최신 문서 조사
2. 모범 사례 수집

**성공 기준**: 충분한 정보 수집

---

### 단계 2: 설계
**종속성**: 단계 1

- 아키텍처 설계
- 파일 구조 계획

**성공 기준**: 설계 문서 완성

---

### 단계 3: 구현
**종속성**: 단계 2

[구현 작업]

**성공 기준**: 컴파일 성공

---

### 단계 4: 테스트
**종속성**: 단계 3

- 단위 테스트
- 통합 테스트

**성공 기준**: 커버리지 >= 80%

---

### 단계 5: 보안 검증
**종속성**: 단계 4

```bash
npm audit --production
```

**성공 기준**: Critical/High 취약점 0개

---

### 단계 6: 최종 검증
**종속성**: 단계 5

```bash
[빌드 및 테스트 명령]
```

**성공 기준**: 모든 검증 통과

## 결과물
- [상세 산출물 목록]
```

---

## 예시

### 예시 1: 간단한 요청

**사용자**: "문자열 유틸리티 함수 만들어줘"

**Claude 동작**:
1. 복잡도 판단: MINIMAL
2. 프롬프트 생성 (MINIMAL 템플릿)
3. `.claude/commands/string-utility.md` 저장

### 예시 2: 일반 기능

**사용자**: "사용자 인증 모듈 만들어줘"

**Claude 동작**:
1. 질문: "인증 방식? JWT/Session/OAuth (기본: JWT)"
2. 복잡도 판단: STANDARD
3. 프롬프트 생성 (STANDARD 템플릿, 5단계)
4. `.claude/commands/user-auth-module.md` 저장

### 예시 3: 대규모 프로젝트

**사용자**: "전체 API 서버 구축해줘"

**Claude 동작**:
1. 질문 2회로 핵심 요구사항 파악
2. 복잡도 판단: COMPREHENSIVE
3. 프롬프트 생성 (COMPREHENSIVE 템플릿, 6단계)
4. `.claude/commands/api-server.md` 저장

---

## 주의사항

- 과도한 구조화 피하기: 작업에 맞는 최소한의 구조 사용
- 질문은 최대 2회: 불명확하면 합리적 기본값 선택
- 실행 가능한 명령어 포함: 검증 단계에 실제 명령어 작성
