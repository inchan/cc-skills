# TDD ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ - í…ŒìŠ¤íŠ¸ ë¬¸ì„œ

## ê°œìš”

TDD íŒ€ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì˜ í…ŒìŠ¤íŠ¸ ì „ëžµ, ìˆœì„œ, ì¼€ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

---

## í…ŒìŠ¤íŠ¸ ì „ëžµ

### ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸ ì ‘ê·¼ë²•

```
Level 0: ê°œë³„ ì—ì´ì „íŠ¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit)
  â””â”€ ê° ì—ì´ì „íŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ìž…ì¶œë ¥ ê²€ì¦

Level 1: 2ê°œ ì—ì´ì „íŠ¸ í†µí•© í…ŒìŠ¤íŠ¸ (Integration)
  â””â”€ Orchestrator â†’ Task Planner
  â””â”€ Orchestrator â†’ Test Writer
  â””â”€ ë“±ë“±...

Level 2: ë¶€ë¶„ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸ (Partial Workflow)
  â””â”€ Task Planner â†’ Test Writer â†’ Implementer (ë£¨í”„ ì—†ì´)

Level 3: ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸ (Full Workflow)
  â””â”€ ì „ì²´ Red-Green-Refactor ì‚¬ì´í´ (ë£¨í”„ í¬í•¨)
```

### í˜„ìž¬ ì œì•½ ì‚¬í•­

| ì œì•½ | ì„¤ëª… | ì˜í–¥ |
|------|------|------|
| Task ë°˜í™˜ê°’ | í…ìŠ¤íŠ¸ í˜•íƒœ (JSON ì•„ë‹˜) | Level 2+ ì‹¤íŒ¨ ê°€ëŠ¥ |
| ë£¨í”„ ìƒíƒœ | ë³€ìˆ˜ ìœ ì§€ ë¶ˆê°€ | Level 3 ë¶ˆê°€ëŠ¥ |
| TodoWrite | activeForm ëˆ„ë½ ì‹œ ì˜¤ë¥˜ | ì¼ë¶€ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ |

---

## í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìˆœì„œ

### Phase 1: ê¸°ë³¸ ê²€ì¦ (ìˆ˜ë™)

1. **ì—ì´ì „íŠ¸ ë“±ë¡ í™•ì¸**
   - íŒŒì¼: `test-01-agent-registration.md`
   - ëª©ì : plugin.json ë“±ë¡ í™•ì¸
   - ë°©ë²•: ì—ì´ì „íŠ¸ ëª©ë¡ ì¡°íšŒ

2. **YAML íŒŒì‹± í™•ì¸**
   - íŒŒì¼: `test-02-yaml-parsing.md`
   - ëª©ì : tools ë°°ì—´ í˜•ì‹ ì •ìƒ íŒŒì‹±
   - ë°©ë²•: ê° ì—ì´ì „íŠ¸ ë¡œë“œ ì‹œë„

### Phase 2: ê°œë³„ ì—ì´ì „íŠ¸ (Level 0)

3. **Task Planner ë‹¨ë… í…ŒìŠ¤íŠ¸**
   - íŒŒì¼: `test-03-task-planner-unit.md`
   - ìž…ë ¥: "ë°°ì—´ í•©ê³„ í•¨ìˆ˜"
   - ì˜ˆìƒ: 1ê°œ ìž‘ì—… ë¶„í•´
   - ì†Œìš”: 2ë¶„

4. **Test Writer ë‹¨ë… í…ŒìŠ¤íŠ¸**
   - íŒŒì¼: `test-04-test-writer-unit.md`
   - ìž…ë ¥: Task Planner ê²°ê³¼ (ìˆ˜ë™ ìž‘ì„±)
   - ì˜ˆìƒ: src/sum.test.js ìƒì„±
   - ì†Œìš”: 3ë¶„

5. **Implementer ë‹¨ë… í…ŒìŠ¤íŠ¸**
   - íŒŒì¼: `test-05-implementer-unit.md`
   - ìž…ë ¥: ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¡´ìž¬
   - ì˜ˆìƒ: src/sum.js ìƒì„±, í…ŒìŠ¤íŠ¸ í†µê³¼
   - ì†Œìš”: 3ë¶„

6. **Refactorer ë‹¨ë… í…ŒìŠ¤íŠ¸**
   - íŒŒì¼: `test-06-refactorer-unit.md`
   - ìž…ë ¥: Green ìƒíƒœ ì½”ë“œ
   - ì˜ˆìƒ: ê°œì„  ë˜ëŠ” ìŠ¤í‚µ
   - ì†Œìš”: 2ë¶„

7. **Reviewer ë‹¨ë… í…ŒìŠ¤íŠ¸**
   - íŒŒì¼: `test-07-reviewer-unit.md`
   - ìž…ë ¥: Refactored ì½”ë“œ
   - ì˜ˆìƒ: approved/rejected ê²°ì •
   - ì†Œìš”: 2ë¶„

### Phase 3: í†µí•© í…ŒìŠ¤íŠ¸ (Level 1)

8. **Orchestrator â†’ Task Planner**
   - íŒŒì¼: `test-08-orchestrator-planner.md`
   - ëª©ì : Task ë„êµ¬ í˜¸ì¶œ ë° ì‘ë‹µ ìˆ˜ì‹  í™•ì¸
   - ì†Œìš”: 3ë¶„

9. **Orchestrator â†’ Test Writer**
   - íŒŒì¼: `test-09-orchestrator-writer.md`
   - ëª©ì : Task Planner ê²°ê³¼ ì „ë‹¬ í™•ì¸
   - ì†Œìš”: 3ë¶„

### Phase 4: ë¶€ë¶„ ì›Œí¬í”Œë¡œìš° (Level 2)

10. **ë‹¨ìˆœí™”ëœ ì›Œí¬í”Œë¡œìš°**
    - íŒŒì¼: `test-10-simplified-workflow.md`
    - íë¦„: Planner â†’ Writer â†’ Implementer (ë£¨í”„ ì—†ìŒ)
    - ì†Œìš”: 10ë¶„

### Phase 5: ì „ì²´ ì›Œí¬í”Œë¡œìš° (Level 3) - ì¶”í›„

11. **ì „ì²´ Red-Green-Refactor**
    - íŒŒì¼: `test-11-full-workflow.md`
    - ìƒíƒœ íŒŒì¼ ê¸°ë°˜ ìž¬ì„¤ê³„ í•„ìš”
    - ì†Œìš”: ì˜ˆìƒ ë¶ˆê°€

---

## í…ŒìŠ¤íŠ¸ í™˜ê²½

### ê³µí†µ í™˜ê²½

- **í…ŒìŠ¤íŠ¸ ë””ë ‰í† ë¦¬**: `/tmp/claude/tdd-test-{test-id}`
- **ì–¸ì–´**: JavaScript (Node.js)
- **í…ŒìŠ¤íŠ¸ í”„ë ˆìž„ì›Œí¬**: Jest
- **Git**: ì´ˆê¸°í™” ì™„ë£Œ (ì»¤ë°‹ì€ í…ŒìŠ¤íŠ¸ì— ë”°ë¼)

### í™˜ê²½ ì¤€ë¹„ ìŠ¤í¬ë¦½íŠ¸

```bash
# ìƒˆ í…ŒìŠ¤íŠ¸ í™˜ê²½ ìƒì„±
function setup_test_env() {
  local test_id=$1
  local test_dir="/tmp/claude/tdd-test-${test_id}"

  mkdir -p "$test_dir/src"
  cd "$test_dir"

  cat > package.json << 'EOF'
{
  "name": "tdd-test",
  "version": "1.0.0",
  "scripts": { "test": "jest" },
  "devDependencies": { "jest": "^29.0.0" }
}
EOF

  npm install --silent
  git init
  git config user.name "Test User"
  git config user.email "test@example.com"

  echo "âœ“ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¤€ë¹„ ì™„ë£Œ: $test_dir"
}

# ì‚¬ìš© ì˜ˆì‹œ
setup_test_env "03-task-planner"
```

---

## ì„±ê³µ ê¸°ì¤€

### ê° í…ŒìŠ¤íŠ¸ì˜ ì„±ê³µ ì¡°ê±´

| í…ŒìŠ¤íŠ¸ | ì„±ê³µ ê¸°ì¤€ |
|--------|-----------|
| ì—ì´ì „íŠ¸ ë“±ë¡ | 6ê°œ ì—ì´ì „íŠ¸ ëª¨ë‘ ì¡°íšŒ ê°€ëŠ¥ |
| YAML íŒŒì‹± | ì—ëŸ¬ ì—†ì´ ì—ì´ì „íŠ¸ ë¡œë“œ |
| Task Planner | ìž‘ì—… ë¶„í•´ ê²°ê³¼ì— success_criteria í¬í•¨ |
| Test Writer | í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„± + ëª¨ë‘ ì‹¤íŒ¨ (Red) |
| Implementer | êµ¬í˜„ íŒŒì¼ ìƒì„± + ëª¨ë‘ í†µê³¼ (Green) |
| Refactorer | í…ŒìŠ¤íŠ¸ ì—¬ì „ížˆ í†µê³¼ + ë©”íŠ¸ë¦­ ê°œì„  |
| Reviewer | approved/rejected ëª…í™•í•œ ê²°ì • |
| Orchestrator í†µí•© | ì„œë¸Œì—ì´ì „íŠ¸ í˜¸ì¶œ ì„±ê³µ + ì‘ë‹µ ìˆ˜ì‹  |
| ë‹¨ìˆœí™” ì›Œí¬í”Œë¡œìš° | src/*.js ìƒì„± + í…ŒìŠ¤íŠ¸ í†µê³¼ |

---

## ì•Œë ¤ì§„ ì´ìŠˆ

### ðŸ”´ Critical

1. **Task ë°˜í™˜ê°’ íŒŒì‹±**
   - ì¦ìƒ: `red_output.status` ì ‘ê·¼ ì‹œ undefined
   - ì˜í–¥: Level 2+ í…ŒìŠ¤íŠ¸
   - í•´ê²°: ìƒíƒœ íƒœê·¸(`---STATUS: red---`) ë˜ëŠ” ìž¬ì„¤ê³„

2. **ë£¨í”„ ìƒíƒœ ì†ì‹¤**
   - ì¦ìƒ: attempt ë³€ìˆ˜ ì´ˆê¸°í™”
   - ì˜í–¥: Level 3 í…ŒìŠ¤íŠ¸
   - í•´ê²°: ìƒíƒœ íŒŒì¼ ë˜ëŠ” ìž¬ê·€ í˜¸ì¶œ

### ðŸŸ¡ Medium

3. **TodoWrite activeForm**
   - ì¦ìƒ: API ì—ëŸ¬ ê°€ëŠ¥
   - ì˜í–¥: ì§„í–‰ ì¶”ì 
   - í•´ê²°: ëª¨ë“  todoì— activeForm ì¶”ê°€

4. **ì‹œê°„ ì´ˆê³¼**
   - ì¦ìƒ: 15ë¶„ ì´ìƒ ì†Œìš” ì‹œ íƒ€ìž„ì•„ì›ƒ
   - ì˜í–¥: ë³µìž¡í•œ í…ŒìŠ¤íŠ¸
   - í•´ê²°: Task ë³„ timeout ì„¤ì •

---

## í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê¸°ë¡

### í…œí”Œë¦¿

```markdown
## í…ŒìŠ¤íŠ¸ ê²°ê³¼: {í…ŒìŠ¤íŠ¸ ì´ë¦„}

**ì‹¤í–‰ ì¼ì‹œ**: 2025-11-29 00:30
**í…ŒìŠ¤íŠ¸ ID**: test-03
**í™˜ê²½**: /tmp/claude/tdd-test-03-task-planner

### ìž…ë ¥
- ê¸°ëŠ¥ ì„¤ëª…: "ë°°ì—´ í•©ê³„ í•¨ìˆ˜"

### ì˜ˆìƒ ì¶œë ¥
- 1ê°œ ìž‘ì—… ë¶„í•´
- success_criteria í¬í•¨

### ì‹¤ì œ ì¶œë ¥
[ì‹¤ì œ ì‘ë‹µ ê¸°ë¡]

### ê²°ê³¼
- [ ] ì„±ê³µ
- [ ] ì‹¤íŒ¨
- [ ] ë¶€ë¶„ ì„±ê³µ

### ì‹¤íŒ¨ ì‚¬ìœ  (í•´ë‹¹ ì‹œ)
[ì—ëŸ¬ ë©”ì‹œì§€ ë˜ëŠ” ì´ìœ ]

### ì†Œìš” ì‹œê°„
2ë¶„ 30ì´ˆ
```

---

## ë‹¤ìŒ ë‹¨ê³„

1. **Phase 1-2 ì™„ë£Œ**: ê¸°ë³¸ ê²€ì¦ + ê°œë³„ ì—ì´ì „íŠ¸ (test-01 ~ test-07)
2. **ê²°ê³¼ ë¶„ì„**: ì‹¤íŒ¨ íŒ¨í„´ íŒŒì•…
3. **Phase 3 ì§„í–‰**: Orchestrator í†µí•© í…ŒìŠ¤íŠ¸
4. **Phase 4 ë„ì „**: ë‹¨ìˆœí™”ëœ ì›Œí¬í”Œë¡œìš°
5. **ìž¬ì„¤ê³„ ê²€í† **: Level 3ë¥¼ ìœ„í•œ ìƒíƒœ ê´€ë¦¬ ë°©ì‹

---

## ì°¸ê³  ë¬¸ì„œ

- `docs/test-tdd-simple.md`: ì „ì²´ ì›Œí¬í”Œë¡œìš° ì‹œë‚˜ë¦¬ì˜¤
- `docs/tdd-fixes-applied.md`: ì ìš©ëœ ìˆ˜ì • ë° ë¯¸í•´ê²° ë¬¸ì œ
- `docs/references/agents/tdd-multi-agent-pattern.md`: ì„¤ê³„ íŒ¨í„´

---

## ë³€ê²½ ì´ë ¥

- **2025-11-29**: ì´ˆê¸° ìž‘ì„± - í…ŒìŠ¤íŠ¸ ì „ëžµ ë° ìˆœì„œ ì •ì˜
