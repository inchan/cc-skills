# Test 03: Task Planner 단독 테스트

**테스트 ID**: test-03
**Category**: Phase 2 - 개별 에이전트 (Level 0)
**소요 시간**: 3분
**난이도**: ⭐⭐⭐ (보통)

---

## 목적

Task Planner 에이전트를 단독으로 호출하여 작업 분해 기능 검증

---

## 사전 조건

- Test 01, 02 통과
- 테스트 환경: `/tmp/claude/tdd-test-03`
- Jest 설치 완료

---

## 테스트 환경 준비

```bash
# 테스트 디렉토리 생성
mkdir -p /tmp/claude/tdd-test-03/src
cd /tmp/claude/tdd-test-03

# package.json 생성
cat > package.json << 'EOF'
{
  "name": "tdd-test-03",
  "version": "1.0.0",
  "scripts": { "test": "jest" },
  "devDependencies": { "jest": "^29.0.0" }
}
EOF

# Jest 설치
npm install

# Git 초기화
git init
git config user.name "Test User"
git config user.email "test@example.com"

echo "✓ 환경 준비 완료"
```

---

## 테스트 절차

### 1. Task Planner 직접 호출

**Claude Code에서 실행**:
```
Task 도구 사용:
- subagent_type: "tdd-task-planner"
- description: "작업 분해"
- prompt: "다음 기능을 작은 TDD 단위로 분해하세요:

  기능 설명: 배열 합계 함수
  프로젝트 루트: /tmp/claude/tdd-test-03

  요구사항:
  - 숫자 배열의 모든 요소를 합산
  - 빈 배열은 0 반환
  - 음수와 소수점 지원

  다음 정보를 포함하여 응답하세요:
  1. 분해된 작업 목록 (최대 20개)
  2. 각 작업의 success_criteria (Input/Output/Edge Cases)
  3. 파일 경로 (테스트 파일, 구현 파일)
  4. 테스트 프레임워크 (Jest)"
```

### 2. 예상 응답 구조

```
작업 분해 완료

## 작업 목록

### TASK-001: 배열 합계 함수

**설명**: 숫자 배열의 모든 요소를 합산하는 순수 함수

**Success Criteria**:

Input:
- 타입: number[]
- 설명: 합산할 숫자 배열

Output:
- 타입: number
- 설명: 배열 요소의 총합

Edge Cases:
1. 빈 배열 [] → 0
2. 단일 요소 [5] → 5
3. 음수 포함 [-1, 2] → 1
4. 소수점 포함 [1.5, 2.5] → 4.0
5. 큰 숫자 [1e10, 1e10] → 2e10

**파일**:
- 구현: src/sum.js
- 테스트: src/sum.test.js

**테스트 프레임워크**: Jest

**예상 소요 시간**: 15분
```

---

## 검증 체크리스트

### 필수 항목

- [ ] **작업 개수**: 1개 (단순 기능이므로)
- [ ] **작업 ID**: "TASK-001" 형식
- [ ] **제목**: 명확한 작업 이름
- [ ] **Input 정의**: 타입 + 설명
- [ ] **Output 정의**: 타입 + 설명
- [ ] **Edge Cases**: 3개 이상
- [ ] **파일 경로**: 구현 파일 + 테스트 파일
- [ ] **테스트 프레임워크**: "Jest" 명시

### 선택 항목

- [ ] 작업 설명 (description)
- [ ] 우선순위 (priority)
- [ ] 의존성 (dependencies)
- [ ] 예상 소요 시간

---

## 성공 기준

### ✅ 완전 성공

- 모든 필수 항목 포함
- Edge Cases 5개 이상
- 파일 경로가 프로젝트 구조에 맞음

### ⚠️ 부분 성공

- 필수 항목 80% 이상
- Edge Cases 3개 이상
- 일부 정보 누락

### ❌ 실패

- 작업 분해 안 됨
- Success Criteria 없음
- Edge Cases 3개 미만

---

## 실패 패턴 분석

### 패턴 1: 작업이 너무 큼

**증상**:
```
TASK-001: 전체 sum 함수 구현
- 모든 기능을 하나의 작업으로
```

**문제**: TDD 단위가 아님 (너무 큼)

**해결**: 프롬프트에 "1개 테스트 케이스 수준으로 분해" 명시

### 패턴 2: Success Criteria 모호

**증상**:
```
Input: 배열
Output: 숫자
Edge Cases: 여러 경우
```

**문제**: 구체성 부족

**해결**: 프롬프트에 "예시 포함" 요청

### 패턴 3: 파일 경로 없음

**증상**:
- 파일 경로 정보 누락

**문제**: 다음 단계(Test Writer)에서 파일 생성 불가

**해결**: 프롬프트에 "파일 경로 필수" 명시

---

## 테스트 결과 기록

**실행 일시**: _____________
**실행자**: _____________
**테스트 환경**: /tmp/claude/tdd-test-03

### 입력

- 기능 설명: "배열 합계 함수"
- 프로젝트 루트: /tmp/claude/tdd-test-03

### 실제 응답

```
[Task Planner의 실제 응답 기록]
```

### 검증 결과

| 항목 | 예상 | 실제 | 통과 |
|------|------|------|------|
| 작업 개수 | 1개 | __ | [ ] |
| Edge Cases 개수 | ≥3개 | __ | [ ] |
| 파일 경로 | 2개 | __ | [ ] |
| 테스트 프레임워크 | Jest | __ | [ ] |

### 최종 결과

- [ ] ✅ 완전 성공
- [ ] ⚠️ 부분 성공
- [ ] ❌ 실패

### 소요 시간

__분 __초

---

## 다음 테스트

✅ 성공 시 → **Test 04: Test Writer 단독 테스트**

---

## 추가 테스트 케이스

### 복잡한 기능 테스트

```
기능 설명: 사용자 인증 API
요구사항:
- 이메일/비밀번호 로그인
- JWT 토큰 발급
- 비밀번호 해싱

예상: 5-8개 작업 분해
```

### 20개 초과 테스트

```
기능 설명: 전자상거래 시스템 전체

예상: "작업 수 초과" 경고
```

---

## 변경 이력

- **2025-11-29**: 초기 작성
